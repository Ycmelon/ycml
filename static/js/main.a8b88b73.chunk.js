(this.webpackJsonpycml=this.webpackJsonpycml||[]).push([[0],{91:function(e,t,r){},93:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(11),o=r.n(c);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l,i=r(136),s=r(134),u=r(68),p=r(135),h=r(39),m=r.n(h),b=r(46),f=r(31),j=r(94),d=r(127),O=r(128),v=r(35),g=(r(62),r(8)),x=function(e){var t=e.match,r=Object(n.useMemo)((function(){return v.a.apps[0].firestore()}),[]),a=Object(n.useState)("loading"),c=Object(f.a)(a,2),o=c[0],l=c[1],i=t.params.alias;return Object(n.useEffect)((function(){function e(){return(e=Object(b.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.collection("urls").where("alias","==",t).get();case 2:(n=e.sent).empty?l("invalid"):(window.location=n.docs[0].data().url,l("success"));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(t){e.apply(this,arguments)}(i)}),[i,r]),Object(g.jsx)("div",{className:"center",children:"invalid"===o?Object(g.jsxs)("div",{className:"container",children:[Object(g.jsx)(j.a,{variant:"h4",component:"h1",gutterBottom:!0,children:"Invalid URL!"}),Object(g.jsx)(d.a,{variant:"contained",color:"primary",href:"/",children:"Create one"})]}):Object(g.jsx)(O.a,{})})},w=r(25),y=r(137),C=r(132),k=r(130),A=r(133),S=r(139);function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function I(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function L(e,t){var r=e.title,a=e.titleId,c=I(e,["title","titleId"]);return n.createElement("svg",E({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:24,height:24,viewBox:"0 0 24 24",ref:t,"aria-labelledby":a},c),r?n.createElement("title",{id:a},r):null,l||(l=n.createElement("path",{d:"M12,2A10,10 0 0,0 2,12C2,16.42 4.87,20.17 8.84,21.5C9.34,21.58 9.5,21.27 9.5,21C9.5,20.77 9.5,20.14 9.5,19.31C6.73,19.91 6.14,17.97 6.14,17.97C5.68,16.81 5.03,16.5 5.03,16.5C4.12,15.88 5.1,15.9 5.1,15.9C6.1,15.97 6.63,16.93 6.63,16.93C7.5,18.45 8.97,18 9.54,17.76C9.63,17.11 9.89,16.67 10.17,16.42C7.95,16.17 5.62,15.31 5.62,11.5C5.62,10.39 6,9.5 6.65,8.79C6.55,8.54 6.2,7.5 6.75,6.15C6.75,6.15 7.59,5.88 9.5,7.17C10.29,6.95 11.15,6.84 12,6.84C12.85,6.84 13.71,6.95 14.5,7.17C16.41,5.88 17.25,6.15 17.25,6.15C17.8,7.5 17.45,8.54 17.35,8.79C18,9.5 18.38,10.39 18.38,11.5C18.38,15.32 16.04,16.16 13.81,16.41C14.17,16.72 14.5,17.33 14.5,18.26C14.5,19.6 14.5,20.68 14.5,21C14.5,21.27 14.66,21.59 15.17,21.5C19.14,20.16 22,16.42 22,12A10,10 0 0,0 12,2Z"})))}var M,P=n.forwardRef(L);r.p;function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function B(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function R(e,t){var r=e.title,a=e.titleId,c=B(e,["title","titleId"]);return n.createElement("svg",T({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:24,height:24,viewBox:"0 0 24 24",ref:t,"aria-labelledby":a},c),r?n.createElement("title",{id:a},r):null,M||(M=n.createElement("path",{d:"M19,3L13,9L15,11L22,4V3M12,12.5A0.5,0.5 0 0,1 11.5,12A0.5,0.5 0 0,1 12,11.5A0.5,0.5 0 0,1 12.5,12A0.5,0.5 0 0,1 12,12.5M6,20A2,2 0 0,1 4,18C4,16.89 4.9,16 6,16A2,2 0 0,1 8,18C8,19.11 7.1,20 6,20M6,8A2,2 0 0,1 4,6C4,4.89 4.9,4 6,4A2,2 0 0,1 8,6C8,7.11 7.1,8 6,8M9.64,7.64C9.87,7.14 10,6.59 10,6A4,4 0 0,0 6,2A4,4 0 0,0 2,6A4,4 0 0,0 6,10C6.59,10 7.14,9.87 7.64,9.64L10,12L7.64,14.36C7.14,14.13 6.59,14 6,14A4,4 0 0,0 2,18A4,4 0 0,0 6,22A4,4 0 0,0 10,18C10,17.41 9.87,16.86 9.64,16.36L12,14L19,21H22V20L9.64,7.64Z"})))}var U,N,V=n.forwardRef(R);r.p;function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function z(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function D(e,t){var r=e.title,a=e.titleId,c=z(e,["title","titleId"]);return n.createElement("svg",_({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 24 24",style:{enableBackground:"new 0 0 24 24"},xmlSpace:"preserve",ref:t,"aria-labelledby":a},c),r?n.createElement("title",{id:a},r):null,U||(U=n.createElement("g",{id:"Layer_1"},n.createElement("path",{d:"M15.5,19h-2.3l-1.4-6.1l-2.5,0.6C9.2,14,9,14.4,8.8,14.8c-0.9,1.5-2.8,1.9-4.3,1s-1.9-2.8-1-4.3s2.8-1.9,4.3-1 c0.4,0.2,0.7,0.6,0.9,0.9l2.5-0.6l-0.6-2.5C10.2,8.2,9.8,8,9.4,7.8C8,6.9,7.5,5,8.4,3.5c0.9-1.5,2.8-1.9,4.3-1s1.9,2.8,1,4.3 c-0.2,0.4-0.6,0.7-0.9,0.9L15.5,19 M7,11.8c-0.7-0.5-1.7-0.2-2.2,0.5S4.6,14,5.3,14.4C6,14.9,7,14.7,7.5,13.9 C7.9,13.2,7.7,12.2,7,11.8 M12.4,6c0.5-0.7,0.2-1.7-0.5-2.2c-0.7-0.5-1.7-0.2-2.2,0.5C9.3,5,9.5,6,10.3,6.5C11,6.9,12,6.7,12.4,6  M12.8,11.3c-0.2-0.1-0.4-0.1-0.5,0.1c-0.1,0.2-0.1,0.4,0.1,0.5c0.2,0.1,0.4,0.1,0.5-0.1C13.1,11.6,13,11.4,12.8,11.3 M21,8.5 L14.5,10l0.5,2.2l7.5-1.8L23,9.7L21,8.5"}),n.createElement("polyline",{points:"15.5,19 13.9,12.5 11.8,12.9 13.5,20.5 14.2,21 15.5,19  "}))),N||(N=n.createElement("g",{id:"Layer_2"},n.createElement("rect",{x:1,y:19,width:4,height:2}),n.createElement("rect",{x:7,y:19,width:4,height:2}),n.createElement("rect",{x:19,y:19,width:4,height:2}),n.createElement("rect",{x:13,y:19,width:4,height:2}))))}var F=n.forwardRef(D),J=(r.p,r(129)),K="This field is required!",W="This URL is invalid!",X="This URL is taken!",Y="Successfully created & copied to clipboard!",Z=Object(J.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1)+" 0",width:"30ch"}}}}));var q="https://Ycml.ml/",G={value:"",error:!1,helperText:void 0},H=function(){var e=Z(),t=Object(n.useMemo)((function(){return v.a.apps[0].firestore()}),[]),r=Object(n.useState)(G),a=Object(f.a)(r,2),c=a[0],o=a[1],l=Object(n.useState)(G),i=Object(f.a)(l,2),s=i[0],u=i[1],p=Object(n.useState)({open:!1,message:""}),h=Object(f.a)(p,2),x=h[0],E=h[1],I=Object(n.useState)(!1),L=Object(f.a)(I,2),M=L[0],T=L[1],B=Object(n.useState)(!1),R=Object(f.a)(B,2),U=R[0],N=R[1];function _(e,t){"longform"===e?o((function(e){return Object(w.a)(Object(w.a)({},e),t)})):"shortform"===e&&u((function(e){return Object(w.a)(Object(w.a)({},e),t)}))}function z(){return(z=Object(b.a)(m.a.mark((function e(r,n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),e.prev=1,e.next=4,t.collection("urls").where("alias","==",n).get();case 4:if(e.sent.empty){e.next=9;break}return E({open:!0,message:X}),_("shortform",{value:""}),e.abrupt("return");case 9:return e.next=11,t.collection("urls").add({url:r,alias:n});case 11:return T(!0),E({open:!0,message:Y}),_("longform",{value:""}),e.next=16,navigator.clipboard.writeText(q+n);case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(1),E({open:!0,message:"Unknown error: ".concat(e.t0)});case 21:return e.prev=21,N(!1),_("shortform",{value:""}),e.finish(21);case 25:case"end":return e.stop()}}),e,null,[[1,18,21,25]])})))).apply(this,arguments)}return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"center",children:[Object(g.jsxs)(j.a,{variant:"h4",component:"h1",gutterBottom:!0,children:[Object(g.jsx)("span",{role:"img","aria-label":"Watermelon emoji",children:"\ud83c\udf49"})," ","Ycml.ml"]}),Object(g.jsx)("form",{className:e.root,onSubmit:function(e){e.preventDefault(),T(!1),_("longform",{error:!1,helperText:void 0}),_("shortform",{error:!1,helperText:void 0}),c.value?s.value?function(e){try{var t=new URL(e);return"http:"===t.protocol||"https:"===t.protocol}catch(r){return!1}}(c.value)?function(e,t){z.apply(this,arguments)}(c.value,s.value):_("longform",{error:!0,helperText:W}):_("shortform",{error:!0,helperText:K}):_("longform",{error:!0,helperText:K})},autoComplete:"off",noValidate:!0,action:"submitted",children:Object(g.jsxs)("div",{className:"container",children:[Object(g.jsx)(y.a,Object(w.a)(Object(w.a)({},c),{},{label:"Long URL",type:"url",placeholder:"https://www.example.com/",onChange:function(e){return _("longform",{value:e.target.value})}})),Object(g.jsx)(y.a,Object(w.a)(Object(w.a)({},s),{},{label:"Alias",InputProps:{startAdornment:Object(g.jsx)(C.a,{position:"start",children:"ycml.ml/"})},onChange:function(e){return _("shortform",{value:e.target.value})}})),Object(g.jsxs)("div",{children:[Object(g.jsx)(d.a,{variant:"contained",color:"primary",type:"submit",disabled:U,startIcon:U?Object(g.jsx)(O.a,{size:24,color:"inherit"}):Object(g.jsx)(k.a,{component:M?F:V}),children:"Shorten"})," ",Object(g.jsx)(A.a,{href:"https://github.com/Ycmelon/ycml",children:Object(g.jsx)(k.a,{component:P})})]})]})})]}),Object(g.jsx)(S.a,Object(w.a)(Object(w.a)({},x),{},{onClose:function(){return E({open:!1})}}))]})},$=r(67),Q=r(13),ee=function(){var e=Object(s.a)("(prefers-color-scheme: dark)"),t=Object(n.useMemo)((function(){return Object(u.a)({palette:{type:e?"dark":"light"}})}),[e]);return Object(g.jsxs)(p.a,{theme:t,children:[Object(g.jsx)(i.a,{}),Object(g.jsx)($.a,{basename:".",children:Object(g.jsxs)(Q.c,{children:[Object(g.jsx)(Q.a,{exact:!0,path:"/",component:H}),Object(g.jsx)(Q.a,{path:"/:alias",component:x})]})})]})};r(91),r(92);v.a.initializeApp({apiKey:"AIzaSyBS89pgAPxfaysUA-b4_OlwrIkVKI9_xd8",authDomain:"ycmlml.firebaseapp.com",projectId:"ycmlml",storageBucket:"ycmlml.appspot.com",messagingSenderId:"569534126980",appId:"1:569534126980:web:f0519116a140ed29445bd1",measurementId:"G-F4MSJC4D0K"}),o.a.render(Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)(ee,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[93,1,2]]]);
//# sourceMappingURL=main.a8b88b73.chunk.js.map